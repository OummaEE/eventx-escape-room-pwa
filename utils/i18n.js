// Internationalization utility for multi-language support
window.I18n = {
  currentLanguage: 'sv',
  
  translations: {
    ru: {
      // App Navigation
      home: 'Главная',
      events: 'События',
      bookings: 'Брони',
      wallet: 'Билеты',
      profile: 'Профиль',
      
      // Home Screen
      appName: 'EventX',
      findEvent: 'Найдите своё мероприятие',
      searchEvents: 'Поиск мероприятий...',
      categories: 'Категории',
      music: 'Музыка',
      business: 'Бизнес',
      art: 'Искусство',
      entertainment: 'Развлечения',
      featured: 'Рекомендуемые',
      all: 'Все',
      
      // Event Card
      free: 'Бесплатно',
      availableSeats: 'мест доступно',
      book: 'Забронировать',
      
      // Booking Modal
      booking: 'Бронирование',
      name: 'Имя',
      email: 'Email',
      phone: 'Телефон',
      ticketCount: 'Количество билетов',
      total: 'Итого:',
      cancel: 'Отмена',
      processing: 'Обработка...',
      
      // Bookings Screen
      myBookings: 'Мои брони',
      upcoming: 'Предстоящие',
      past: 'Прошедшие',
      noBookings: 'Нет бронирований',
      noUpcomingEvents: 'У вас пока нет предстоящих мероприятий',
      noPastEvents: 'У вас нет прошедших мероприятий',
      confirmed: 'Подтверждено',
      pending: 'Ожидание',
      bookingNumber: 'Бронь #',
      tickets: 'билет(ов)',
      details: 'Подробности',
      showTicket: 'Показать билет',
      
      // Wallet Screen
      myTickets: 'Мои билеты',
      allTicketsInOne: 'Все ваши билеты в одном месте',
      noTickets: 'Нет билетов',
      bookEventForTicket: 'Забронируйте мероприятие, чтобы получить билет',
      ticketNumber: 'Билет #',
      qrCode: 'QR-код',
      addToWallet: 'В Wallet',
      qrCodeTitle: 'QR-код билета',
      showQrAtEntrance: 'Покажите этот QR-код на входе',
      close: 'Закрыть',
      
      // Profile Screen
      personalInfo: 'Личная информация',
      settings: 'Настройки',
      pushNotifications: 'Push-уведомления',
      darkTheme: 'Темная тема',
      language: 'Язык',
      saveChanges: 'Сохранить изменения',
      clearAllData: 'Очистить все данные',
      
      // Payment
      payment: 'Оплата',
      applePay: 'Apple Pay',
      bankCard: 'Банковская карта',
      cardNumber: 'Номер карты',
      expiryDate: 'ММ/ГГ',
      cvv: 'CVV',
      pay: 'Оплатить',
      
      // Notifications
      bookingConfirmed: 'Бронирование подтверждено!',
      ticketReady: 'готов',
      profileSaved: 'Профиль сохранён',
      settingsUpdated: 'Ваши настройки успешно обновлены',
      
      // Common
      somethingWentWrong: 'Что-то пошло не так',
      unexpectedError: 'Произошла неожиданная ошибка',
      reload: 'Перезагрузить',
      
      // Languages
      russian: 'Русский',
      english: 'English',
      swedish: 'Svenska'
    },
    
    en: {
      // App Navigation
      home: 'Home',
      events: 'Events',
      bookings: 'Bookings',
      wallet: 'Tickets',
      profile: 'Profile',
      
      // Home Screen
      appName: 'EventX',
      findEvent: 'Find your event',
      searchEvents: 'Search events...',
      categories: 'Categories',
      music: 'Music',
      business: 'Business',
      art: 'Art',
      entertainment: 'Entertainment',
      featured: 'Featured',
      all: 'All',
      
      // Event Card
      free: 'Free',
      availableSeats: 'seats available',
      book: 'Book',
      
      // Booking Modal
      booking: 'Booking',
      name: 'Name',
      email: 'Email',
      phone: 'Phone',
      ticketCount: 'Number of tickets',
      total: 'Total:',
      cancel: 'Cancel',
      processing: 'Processing...',
      
      // Bookings Screen
      myBookings: 'My Bookings',
      upcoming: 'Upcoming',
      past: 'Past',
      noBookings: 'No bookings',
      noUpcomingEvents: 'You have no upcoming events',
      noPastEvents: 'You have no past events',
      confirmed: 'Confirmed',
      pending: 'Pending',
      bookingNumber: 'Booking #',
      tickets: 'ticket(s)',
      details: 'Details',
      showTicket: 'Show ticket',
      
      // Wallet Screen
      myTickets: 'My Tickets',
      allTicketsInOne: 'All your tickets in one place',
      noTickets: 'No tickets',
      bookEventForTicket: 'Book an event to get a ticket',
      ticketNumber: 'Ticket #',
      qrCode: 'QR Code',
      addToWallet: 'Add to Wallet',
      qrCodeTitle: 'Ticket QR Code',
      showQrAtEntrance: 'Show this QR code at the entrance',
      close: 'Close',
      
      // Profile Screen
      personalInfo: 'Personal Information',
      settings: 'Settings',
      pushNotifications: 'Push Notifications',
      darkTheme: 'Dark Theme',
      language: 'Language',
      saveChanges: 'Save Changes',
      clearAllData: 'Clear All Data',
      
      // Payment
      payment: 'Payment',
      applePay: 'Apple Pay',
      bankCard: 'Bank Card',
      cardNumber: 'Card Number',
      expiryDate: 'MM/YY',
      cvv: 'CVV',
      pay: 'Pay',
      
      // Notifications
      bookingConfirmed: 'Booking confirmed!',
      ticketReady: 'is ready',
      profileSaved: 'Profile saved',
      settingsUpdated: 'Your settings have been updated successfully',
      
      // Common
      somethingWentWrong: 'Something went wrong',
      unexpectedError: 'An unexpected error occurred',
      reload: 'Reload',
      
      // Languages
      russian: 'Русский',
      english: 'English',
      swedish: 'Svenska'
    },
    
    sv: {
      // App Navigation
      home: 'Hem',
      events: 'Evenemang',
      bookings: 'Bokningar',
      wallet: 'Biljetter',
      profile: 'Profil',
      
      // Home Screen
      appName: 'EventX',
      findEvent: 'Hitta ditt evenemang',
      searchEvents: 'Sök evenemang...',
      categories: 'Kategorier',
      music: 'Musik',
      business: 'Företag',
      art: 'Konst',
      entertainment: 'Underhållning',
      featured: 'Utvalda',
      all: 'Alla',
      
      // Event Card
      free: 'Gratis',
      availableSeats: 'platser tillgängliga',
      book: 'Boka',
      
      // Booking Modal
      booking: 'Bokning',
      name: 'Namn',
      email: 'E-post',
      phone: 'Telefon',
      ticketCount: 'Antal biljetter',
      total: 'Totalt:',
      cancel: 'Avbryt',
      processing: 'Behandlar...',
      
      // Bookings Screen
      myBookings: 'Mina bokningar',
      upcoming: 'Kommande',
      past: 'Tidigare',
      noBookings: 'Inga bokningar',
      noUpcomingEvents: 'Du har inga kommande evenemang',
      noPastEvents: 'Du har inga tidigare evenemang',
      confirmed: 'Bekräftad',
      pending: 'Väntar',
      bookingNumber: 'Bokning #',
      tickets: 'biljett(er)',
      details: 'Detaljer',
      showTicket: 'Visa biljett',
      
      // Wallet Screen
      myTickets: 'Mina biljetter',
      allTicketsInOne: 'Alla dina biljetter på ett ställe',
      noTickets: 'Inga biljetter',
      bookEventForTicket: 'Boka ett evenemang för att få en biljett',
      ticketNumber: 'Biljett #',
      qrCode: 'QR-kod',
      addToWallet: 'Lägg till i Wallet',
      qrCodeTitle: 'Biljett QR-kod',
      showQrAtEntrance: 'Visa denna QR-kod vid entrén',
      close: 'Stäng',
      
      // Profile Screen
      personalInfo: 'Personlig information',
      settings: 'Inställningar',
      pushNotifications: 'Push-meddelanden',
      darkTheme: 'Mörkt tema',
      language: 'Språk',
      saveChanges: 'Spara ändringar',
      clearAllData: 'Rensa all data',
      
      // Payment
      payment: 'Betalning',
      applePay: 'Apple Pay',
      bankCard: 'Bankkort',
      cardNumber: 'Kortnummer',
      expiryDate: 'MM/ÅÅ',
      cvv: 'CVV',
      pay: 'Betala',
      
      // Notifications
      bookingConfirmed: 'Bokning bekräftad!',
      ticketReady: 'är klar',
      profileSaved: 'Profil sparad',
      settingsUpdated: 'Dina inställningar har uppdaterats',
      
      // Common
      somethingWentWrong: 'Något gick fel',
      unexpectedError: 'Ett oväntat fel uppstod',
      reload: 'Ladda om',
      
      // Languages
      russian: 'Русский',
      english: 'English',
      swedish: 'Svenska'
    }
  },
  
  init() {
    const savedLanguage = localStorage.getItem('eventx_language') || 'sv';
    this.setLanguage(savedLanguage);
  },
  
  setLanguage(lang) {
    if (this.translations[lang]) {
      this.currentLanguage = lang;
      localStorage.setItem('eventx_language', lang);
      // Trigger re-render if needed
      window.dispatchEvent(new CustomEvent('languageChanged', { detail: lang }));
    }
  },
  
  t(key) {
    return this.translations[this.currentLanguage][key] || key;
  },
  
  getAvailableLanguages() {
    return [
      { code: 'ru', name: this.t('russian') },
      { code: 'en', name: this.t('english') },
      { code: 'sv', name: this.t('swedish') }
    ];
  }
};

// Initialize i18n
window.I18n.init();